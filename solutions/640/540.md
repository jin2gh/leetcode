## [有序数组中的单一元素](https://leetcode.cn/problems/single-element-in-a-sorted-array/)

### 题解
+ [PY3](../../py3/640/540.py)
+ [TS](../../ts/640/540.ts)

#### 1. 全数组二分查找
**思路**
根据题目中数组的特性，可以知道单一元素的下标 `i` 左边和右边都有偶数个元素：左边元素如果相等，这两个下标分别是偶数 `l` 和奇数 `l + 1`；而右边元素如果相等，则是奇数下标 `r` 和偶数 `r + 1`；下标 `i` 是分界线。用数组左右边界的下标 `low、high`，取中间下标 `mid`：
+ 如果 `mid` 是偶数，判断直接后继元素是否与当前相等；如果 `mid` 是奇数，判断直接前驱元素是否与当前相等；
+ 如果相等，说明 `mid < i`，调整左边界 `low`；如果不相等，说明 `mid >= i`，调整右边界 `high`。

可以使用按位异或运算的特性来判断相邻元素是否相等：
+ 当 `n` 是奇数时，`n ^ 1 == n + 1`；
+ 当 `n` 是偶数时，`n ^ 1 == n - 1`；

**复杂度分析**
+ 时间复杂度：O(logn)，n 为数组长度。
+ 空间复杂度：O(1)。


#### 2. 偶数位二分查找
**思路**
根据数组特性可知，在唯一数 x 之前的偶数位元素和直接后继元素不同，即 `nums[i] != nums[i + 1]`，而在 x 之后的关系是 `nums[i] == nums[i + 1]`。使用二分查找确定位置 m（如果 m 是奇数，减 1 变成偶数），判断 `nums[m]、nums[m + 1]` 的关系来移动左右边界。  

可以使用与运算来判断是否是偶数：
+ 当 `n` 是奇数时，`n & 1 == 1`；
+ 当 `n` 是偶数时，`n & 1 == 0`。

**复杂度分析**
+ 时间复杂度：O(logn)，n 为数组长度。
+ 空间复杂度：O(1)。