## [完全二叉树的节点个数](https://leetcode.cn/problems/count-complete-tree-nodes/)

### 题解
+ [PY3](../../py3/256/222.py)

#### 二分查找 + 位运算
**思路**
先确定完全二叉树的深度，根据深度计算，最后一层的节点编号范围 `[2 ** d, 2 ** (d + 1) - 1]`，使用二分查找确定节点的编号。  
在编号范围内，对于某个节点 m，其二进制表示从高到低（从左到右）表示该节点在树中的位置。假设 `m = 5`，则二进制表示为 `101`，从左边第二位开始（代表节点 m 的上一层），0 表示在左子树，遇到 1 表示在右子树。  
根据位运算判断节点 m 是否存在于树中，如果存在，移动左边界，如果不存在，移动右边界。

**复杂度分析**
+ 时间复杂度：O(log²n + log(n)) ，n 为树的节点。
  - 查找树的深度占用 O(log(n))。
  - 二分查找占用 O(log(n))，判断节点是否存在于树中占用 O(log(n))，所以查找占用 O(log²n)。
+ 空间复杂度：O(1)。